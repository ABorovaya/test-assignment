<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/css/bootstrap-multiselect.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.12/css/bootstrap-select.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/adaptive.css">

    <title>Форма обращения</title>
</head>

<body>
<header></header>

<main>

    <h1>Личный кабинет</h1>
    <div class="content-container container-fluid">
        <div class="row">
            <div class="col left-col">
                <div class="profile-menu"></div>
            </div>

            <div class="col">
                <form method="post" class="application-form">
                    <div class="form-content container-fluid">
                        <h5>Создать обращение</h5>
                        <p class="light-text">Членство в клубе предоставляет возможность один раз в месяц бесплатно
                            заказать
                            одну
                            консультацию на
                            выбор.</p>


                        <div class="row">
                            <div class="form-group col-md">
                                <label for="order_number_sel" class="light-text">Номер заказа</label>
                                <select id="order_number_sel" class="form-control selectpicker"
                                        title="Укажите номер заказа...">
                                    <option value="1">№1</option>
                                    <option value="2">№2</option>
                                    <option value="3">№3</option>
                                </select>
                            </div>
                            <div class="form-group col-md">
                                <label for="application_reason_sel" class="light-text">Причина обращения <span
                                        class="warning-text">*</span></label>
                                <select id="application_reason_sel" class="form-control selectpicker"
                                        title="Выберите причину..." required>
                                    <option value="1">Причина 1</option>
                                    <option value="2">Причина 2</option>
                                    <option value="3">Причина 3</option>
                                    <option value="4">Причина 4</option>
                                    <option value="5">Причина 5</option>
                                    <option value="6">Причина 6</option>
                                    <option value="7">Причина 7</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="product_selector" class="light-text">Товар из заказа</label>
                            <select id="product_selector" class="form-control selectpicker"
                                    title="Укажите товары, по которым создается обращение..." multiple>
                                <option value="1">Товар 1</option>
                                <option value="2">Товар 2</option>
                                <option value="3">Товар 3</option>
                                <option value="4">Товар 4</option>
                                <option value="5">Товар 5</option>
                                <option value="6">Товар 6</option>
                                <option value="7">Товар 7</option>
                                <option value="8">Товар 8</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="application_text" class="light-text">Текст обращения <span
                                    class="warning-text">*</span></label>
                            <textarea id="application_text" class="form-control" required></textarea>
                        </div>


                        <h5>Прикрепить фотографии</h5>
                        <div class="photo-gallery">
                            <a class="add-photo-button" href=""></a>
                        </div>


                        <ul class="photo-requirements">
                            <li>Поддерживаемые форматы: JPG, JPEG, PNG</li>
                            <li>Обзорная фотография товара целиком</li>
                            <li>Фотография, на которой четко видно дату изготовления, скроки хранения или номер партии
                            </li>
                            <li>Предполагаемый дефект товара</li>
                            <li>Предмет должен быть в фокусе, не размытым, его маркировка &#8212; четкой, хорошо
                                читаемой
                            </li>
                        </ul>

                        <input id="submit_button" type="submit" class="form-submit" value="ОТПРАВИТЬ ОБРАЩЕНИЕ">
                    </div>
                </form>
            </div>
        </div>
    </div>
</main>
<footer></footer>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.12/js/bootstrap-select.min.js"></script>

<script type="text/javascript">
    function changeSelectTitle() {
        let selectTitle;
        if($(window).width() <= 768) {
            selectTitle = 'Товары по обращению...';
        } else {
            selectTitle = 'Укажите товары, по которым создается обращение...';
        }
        $('#product_selector').selectpicker({title: selectTitle}).selectpicker('render');
    }

    $(document).ready(function () {
        $('#product_selector').selectpicker();
        $('#order_number_sel').selectpicker();
        $('#application_reason_sel').selectpicker();

        changeSelectTitle();
        $(window).resize(changeSelectTitle);

        $('button').on('click', function (e) {
                $(this).toggleClass('active-select-button');
            }
        );

        //оставить кнопку селекта "открытой" при открытии списка
        //(убрать закругления снизу)
        $(document).mouseup(function (e) {
            let activeSelect = $('.active-select-button');
            let multiselectDropdown = $('[data-id="product_selector"] + .dropdown-menu'); //открывающийся список мультиселекта
            if (!activeSelect.is(e.target)
                && activeSelect.has(e.target).length === 0
                && !multiselectDropdown.is(e.target)
                && multiselectDropdown.has(e.target).length === 0) {
                activeSelect.removeClass('active-select-button');
            }
        });

        $('.application-form').on('submit', function (e) {
            e.preventDefault();
            let orderNumber = $('#order_number_sel').val();
            let applicationReason = $('#application_reason_sel').val();
            let products = $('#product_selector').val();
            let applicationText = $('#application_text').val();
            let dataMessage = "Номер заказа: " + orderNumber;
            dataMessage += "\nПричина обращения: " + applicationReason;
            dataMessage += "\nТовары из заказа: " + products;
            dataMessage += "\nТекст обращения: " + applicationText;
            alert(dataMessage);
        });
    });
</script>
</body>
</html>